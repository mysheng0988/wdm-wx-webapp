webpackJsonp([1],{"+5YN":function(t,a){},Cdx3:function(t,a,e){var s=e("sB3e"),n=e("lktj");e("uqUo")("keys",function(){return function(t){return n(s(t))}})},JXTs:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("BO1k"),n=e.n(s),i=e("Dd8w"),r=e.n(i),c=e("cA94"),o=e("vLgD");var l={name:"chart-gauge",props:{data:{type:Object,default:{}}},data:function(){return{chartSettings:{labelMap:{score:"得分"},seriesMap:{score:{min:-40,max:22,startAngle:200,endAngle:-20,splitNumber:4,radius:"90%",axisLine:{lineStyle:{width:10}},title:{fontSize:10},splitLine:{length:15,offsetCenter:[10,0]},detail:{fontSize:12,formatter:function(t){return"总分:"+t+"分"}}}}},chartData:{columns:["type","value"],rows:[{type:"score",value:0}]}}},mounted:function(){this.chartData.rows[0].value=this.data.score;var t=JSON.parse(this.data.chartData);console.log(t),this.chartSettings.seriesMap.score.max=t[0].max,this.chartSettings.seriesMap.score.min=t[0].min}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"item-box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.data.questionnaireName))]),t._v(" "),e("div",[t._v("得分："+t._s(t.data.score)+"分")]),t._v(" "),e("div",[t._v(t._s(t.data.conclusion))]),t._v(" "),t._l(t.data.explanation,function(a,s){return e("div",{key:s},[t._v(t._s(a))])})],2),t._v(" "),e("div",{staticClass:"chart"},[e("ve-gauge",{attrs:{data:t.chartData,width:"100%",height:"100%",settings:t.chartSettings}})],1)])},staticRenderFns:[]};var v=e("VU/8")(l,d,!1,function(t){e("j6WP")},"data-v-6765aedc",null).exports,u={name:"chart-histogram",props:{data:{type:Object,default:{}}},data:function(){return{extend:{grid:{top:20,left:10,right:10,bottom:30,containLabel:!0},legend:{itemWidth:16,itemHeight:10,bottom:"0",textStyle:{fontSize:8}},tooltip:{trigger:"axis",axisPointer:{type:"none"}},yAxis:{show:!0},series:{label:{show:!0,position:"top"}}},chartData:{columns:["项目"],rows:[]}}},mounted:function(){var t=!0,a=!1,e=void 0;try{for(var s,i=n()(this.data.chartData);!(t=(s=i.next()).done);t=!0){var r=s.value;0,this.chartData.columns.push(r.name);var c={"项目":""};c[r.name]=r.score,this.chartData.rows.push(c)}}catch(t){a=!0,e=t}finally{try{!t&&i.return&&i.return()}finally{if(a)throw e}}}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"item-box"},[e("div",{staticClass:"chart"},[e("ve-histogram",{attrs:{data:t.chartData,width:"100%",height:"100%",extend:t.extend}})],1),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.data.questionnaireName))]),t._v(" "),e("div",[t._v("得分："+t._s(t.data.score)+"分")]),t._v(" "),e("div",[t._v(t._s(t.data.conclusion))]),t._v(" "),t._l(t.data.explanation,function(a,s){return e("div",{key:s},[t._v(t._s(a))])})],2)])},staticRenderFns:[]};var f=e("VU/8")(u,h,!1,function(t){e("+5YN")},"data-v-51499352",null).exports,m={name:"chart-gauge",props:{data:{type:Object,default:{}}},data:function(){return{chartSettings:{xAxisType:"value"},extend:{grid:{top:10,bottom:20},legend:{itemWidth:16,itemHeight:10,bottom:"0",textStyle:{fontSize:8}},yAxis:{show:!0,splitNumber:2},series:{label:{normal:{show:!0}}}},chartData:{columns:["日期","访问用户","下单用户"],rows:[{"日期":"1","访问用户":13,"下单用户":10},{"日期":"2","访问用户":35,"下单用户":32},{"日期":"3","访问用户":29,"下单用户":26},{"日期":"4","访问用户":17,"下单用户":14},{"日期":"5","访问用户":37,"下单用户":34},{"日期":"6","访问用户":45,"下单用户":42}]}}}},_={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"item-box"},[a("div",{staticClass:"chart"},[a("ve-line",{attrs:{data:this.chartData,extend:this.extend,settings:this.chartSettings,width:"100%",height:"100%"}})],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"content-title"},[this._v("广泛性焦虑障碍量表(GAD-7）")]),this._v(" "),a("div",[this._v("总分：14分")]),this._v(" "),a("div",[this._v("您的状态：中度焦虑")]),this._v(" "),a("div",[this._v("您的焦虑倾向到了中度水平，建议您与专业的心理医生多聊一聊，会对 您的帮助很大。")])])}]};var p=e("VU/8")(m,_,!1,function(t){e("ZK00")},"data-v-21cdbfaa",null).exports,x={name:"chart-radar",props:{data:{type:Object,default:{}}},data:function(){return{extend:{legend:{show:!1},radar:{radius:60,indicator:[]},series:{label:{normal:{show:!0}}}},chartSettings:{label:{positon:"top"}},chartData:{columns:["日期"],rows:[{"日期":"1"}]}}},mounted:function(){var t=!0,a=!1,e=void 0;try{for(var s,i=n()(this.data.chartData);!(t=(s=i.next()).done);t=!0){var r=s.value,c={name:r.name,max:r.max};this.extend.radar.indicator.push(c),this.chartData.columns.push(r.name),this.chartData.rows[0][r.name]=r.score}}catch(t){a=!0,e=t}finally{try{!t&&i.return&&i.return()}finally{if(a)throw e}}}},b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"item-box"},[e("div",{staticClass:"chart"},[e("ve-radar",{attrs:{data:t.chartData,settings:t.chartSettings,extend:t.extend,width:"100%",height:"100%"}})],1),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.data.questionnaireName))]),t._v(" "),e("div",[t._v("得分："+t._s(t.data.score)+"分")]),t._v(" "),e("div",[t._v(t._s(t.data.conclusion))]),t._v(" "),t._l(t.data.explanation,function(a,s){return e("div",{key:s},[t._v(t._s(a))])})],2)])},staticRenderFns:[]};var g=e("VU/8")(x,b,!1,function(t){e("Ql/F")},"data-v-2e386bc4",null).exports,y={name:"scaleText",props:{data:{type:Object,default:{}}},data:function(){return{}}},C={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"item-box"},[e("div",{staticClass:"content"},[t.data.questionnaireName?e("div",{staticClass:"content-title"},[t._v(t._s(t.data.questionnaireName))]):t._e(),t._v(" "),t.data.score?e("div",[t._v("得分："+t._s(t.data.score)+"分")]):t._e(),t._v(" "),t.data.conclusion?e("div",[t._v(t._s(t.data.conclusion))]):t._e(),t._v(" "),t._l(t.data.explanation,function(a,s){return e("div",{key:s},[t._v(t._s(a))])})],2)])},staticRenderFns:[]};var w=e("VU/8")(y,C,!1,function(t){e("MnMu")},"data-v-784faa8c",null).exports,D=e("fZjL"),R=e.n(D),k={name:"scaleText",props:{data:{type:Object,default:{}}},data:function(){return{dataKeys:[]}},mounted:function(){this.dataKeys=R()(this.data.chartData[0])}},S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"item-box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.data.questionnaireName))]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data.chartData,"show-header":!1}},t._l(t.dataKeys.length,function(a,s){return e("el-table-column",{key:s,attrs:{width:s<2?100:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row["item"+[s]]))]}}],null,!0)})}),1),t._v(" "),t._l(t.data.explanation,function(a,s){return e("div",{key:s},[t._v(t._s(a))])})],2)])},staticRenderFns:[]};var j={name:"scaleAssess",components:{chartGauge:v,chartHistogram:f,chartLine:p,scaleText:w,scaleTable:e("VU/8")(k,S,!1,function(t){e("TOT7")},"data-v-6dad61c7",null).exports,chartRadar:g},props:{title:{type:String},data:{type:Array,default:[]}},data:function(){return{}},mounted:function(){}},O={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-box"},t._l(t.data,function(a,s){return e("div",{key:s},["dial"==a.type?e("chart-gauge",{attrs:{data:a}}):"text"==a.type?e("scale-text",{attrs:{data:a}}):"table"==a.type?e("scale-table",{attrs:{data:a}}):"Radar"==a.type?e("chart-radar",{attrs:{data:a}}):"Histogram"==a.type?e("chart-histogram",{attrs:{data:a}}):t._e()],1)}),0)},staticRenderFns:[]};var L=e("VU/8")(j,O,!1,function(t){e("aSUh")},"data-v-7934abec",null).exports,F=e("fUgm"),N={name:"home",components:{scaleAssess:L},data:function(){return{base64:"",active:0,patient:{},scaleList:[],medicalRecordId:"",show:!0,extend:{legend:{show:!1},radar:{radius:60,indicator:[{name:"抑郁",max:27},{name:"躯体症状",max:30},{name:"焦虑",max:21},{name:"惊恐",max:10},{name:"社会功能",max:3}]},series:{label:{normal:{show:!0}}}},explanation:[],conclusion:"",chartSettings:{label:{positon:"top"}},chartData:{columns:["日期"],rows:[{"日期":"1","抑郁":0,"躯体症状":0,"焦虑":0,"惊恐":0,"社会功能":0}]}}},computed:r()({},Object(F.b)(["info"])),mounted:function(){console.log(this.info),this.medicalRecordId=this.$route.query.id,this.getMedicalReadRecordData()},methods:{tabClick:function(){switch(this.active){case 0:this.getMedicalReadRecordData();break;case 1:this.getReportAssessData();break;case 2:this.getHRVData();break;case 3:this.getScaleResult()}},getMedicalReadRecordData:function(){var t=this;this.show=!0,Object(c.c)(this.medicalRecordId).then(function(a){t.show=!1,200==a.code&&(console.log(1111111),t.patient=a.dataList[0])})},getHRVData:function(){var t,a=this;this.show=!0,(t=this.medicalRecordId,Object(o.a)({url:"ips/hrv/medicalRecordId/"+t,method:"get"})).then(function(t){a.show=!1,200==t.code&&(a.data=t.dataList[0],a.base64="data:image/png;base64,"+a.data.resultImageUrl)})},getReportAssessData:function(){var t,a=this;this.show=!0,(t=this.medicalRecordId,Object(o.a)({url:"ips/questionnaire/assess/"+t,method:"get"})).then(function(t){if(a.show=!1,200==t.code){var e=t.dataList[0];a.conclusion=e.conclusion,a.explanation=e.explanation;var s=JSON.parse(e.chartData),i=!0,r=!1,c=void 0;try{for(var o,l=n()(s);!(i=(o=l.next()).done);i=!0){var d=o.value;a.chartData.columns.push(d.name),a.chartData.rows[0][d.name]=d.score}}catch(t){r=!0,c=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw c}}}})},onClickLeft:function(){this.$router.push("/history")},getScaleResult:function(){var t,a=this;return this.show=!0,(t=this.medicalRecordId,Object(o.a)({url:"ips/scale/result/"+t,method:"get"})).then(function(t){a.show=!1;var e=t.dataList;a.scaleList=e})}}},M={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("van-nav-bar",{staticClass:"bar",attrs:{fixed:"",placeholder:"",title:"报告信息","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),e("van-tabs",{attrs:{background:"#f1f1f1",color:"#1092D4","title-active-color":"#1092D4"},on:{click:t.tabClick},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[e("van-tab",{attrs:{title:"基本信息"}},[e("div",{staticClass:"flex-column"},[e("div",{staticClass:"res-box pat-msg"},[e("van-row",[e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"姓名",value:t.patient.realName}})],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"性别",value:t.patient.gender?"男":"女"}})],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"年龄",value:t.patient.age}})],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"民族",value:t.patient.nation}})],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"科室",value:t.patient.fromDeptName}})],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-cell",{attrs:{title:"病历号",value:t.patient.beHospitalizedNumber}})],1)],1)],1),t._v(" "),e("div",{staticClass:"res-content"},[e("p",{staticClass:"title"},[t._v("主要症状:")]),t._v(" "),t._l(t.patient.symptom,function(a,s){return e("div",{key:s,staticClass:"label"},[t._v(t._s(a))])})],2)])]),t._v(" "),e("van-tab",{attrs:{title:"筛查结果概况"}},[e("div",{staticClass:"flex-column"},[e("div",{staticClass:"res-box"},[e("ve-radar",{attrs:{height:"250px",data:t.chartData,settings:t.chartSettings,extend:t.extend}})],1),t._v(" "),e("div",{staticClass:"res-content"},[t._l(t.explanation,function(a,s){return e("div",{key:s,staticClass:"label"},[e("span",[t._v(t._s(a))])])}),t._v(" "),e("div",{staticClass:"conclusion"},[t._v(t._s(t.conclusion))])],2)])]),t._v(" "),e("van-tab",{attrs:{title:"自主神经检查"}},[e("div",{staticClass:"res-box img"},[""!==t.base64?e("van-image",{attrs:{src:t.base64}}):e("van-empty",{attrs:{description:"HRV暂时没有数据"}})],1)]),t._v(" "),e("van-tab",{attrs:{title:"量表评估"}},[e("div",{staticClass:"res-box scale"},[e("scale-assess",{attrs:{data:t.scaleList}})],1)])],1),t._v(" "),e("van-overlay",{attrs:{show:t.show},on:{click:function(a){t.show=!1}}},[e("div",{staticClass:"wrapper"},[e("van-loading",{staticClass:"block",attrs:{size:"50px",vertical:"",type:"spinner"}},[t._v(" 加载中...")])],1)])],1)},staticRenderFns:[]};var U=e("VU/8")(N,M,!1,function(t){e("XDZv")},"data-v-8332619e",null);a.default=U.exports},MnMu:function(t,a){},"Ql/F":function(t,a){},TOT7:function(t,a){},XDZv:function(t,a){},ZK00:function(t,a){},aSUh:function(t,a){},fZjL:function(t,a,e){t.exports={default:e("jFbC"),__esModule:!0}},j6WP:function(t,a){},jFbC:function(t,a,e){e("Cdx3"),t.exports=e("FeBl").Object.keys},uqUo:function(t,a,e){var s=e("kM2E"),n=e("FeBl"),i=e("S82l");t.exports=function(t,a){var e=(n.Object||{})[t]||Object[t],r={};r[t]=a(e),s(s.S+s.F*i(function(){e(1)}),"Object",r)}}});
//# sourceMappingURL=1.ba21db979f93a60f512a.js.map