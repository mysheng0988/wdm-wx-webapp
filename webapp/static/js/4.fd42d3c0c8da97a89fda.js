webpackJsonp([4],{W2Q3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("M9A7"),n={name:"home",data:function(){return{timer:null,second:120,loading:!1,secondStr:"获取验证码",username:"",password:""}},methods:{verificationCode:function(){var t=this;Object(a.d)(this.username).then(function(e){200==e.code&&(t.timer=setInterval(function(){t.second--,t.second<=0?(clearInterval(t.timer),t.secondStr="获取验证码",t.second=120):t.secondStr=t.second+"秒后重新发送"},1e3))})},handleLogin:function(){var t=this,e={username:this.username,password:this.password};this.loading=!0,this.$store.dispatch("Login",e).then(function(e){t.loading=!1,"200"==e.code?t.$router.push({path:"/"}):t.$message.error(e.msg)}).catch(function(){t.loading=!1})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"login-box"},[s("van-form",{ref:"loginForm",attrs:{"show-error-message":!1},on:{submit:t.handleLogin}},[s("van-row",{staticClass:"border-line",attrs:{type:"flex",justify:"center"}},[s("van-field",{staticClass:"input-box",attrs:{placeholder:"请输入手机号码",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("van-row",{staticClass:"border-line",attrs:{type:"flex",justify:"center"}},[s("van-col",{attrs:{span:"10"}},[s("van-field",{staticClass:"input-box",attrs:{placeholder:"请输入验证码",rules:[{required:!0,message:"请填写验证码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("van-col",{attrs:{span:"14"}},[s("van-button",{staticClass:"btn-box",attrs:{"native-type":"button",type:"default",disabled:120!=t.second},on:{click:t.verificationCode}},[t._v(t._s(t.secondStr))])],1)],1),t._v(" "),s("div",{staticStyle:{margin:"32px 0"}},[s("van-button",{staticClass:"submit",attrs:{round:"",block:"","native-type":"submit"}},[t._v("确认登录")])],1)],1)],1),t._v(" "),s("van-overlay",{attrs:{show:t.loading},on:{click:function(e){t.show=!1}}},[s("div",{staticClass:"wrapper"},[s("van-loading",{staticClass:"block",attrs:{size:"50px",vertical:"",type:"spinner"}},[t._v("加载中...")])],1)])],1)},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(t){s("aZIr")},"data-v-7062b47a",null);e.default=o.exports},aZIr:function(t,e){}});
//# sourceMappingURL=4.fd42d3c0c8da97a89fda.js.map